<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Desqueeze</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="app">
      <header class="topbar">
        <h1>Desqueeze</h1>
        <div class="topbar-right">
          <span class="chip">Client-side</span>
          <span class="chip">No upload</span>
        </div>
      </header>

      <section class="layout">
        <aside class="panel controls" aria-label="Controls">
          <input id="fileInput" type="file" accept="image/*" />

          <button class="btn primary" id="chooseBtn">Choose image</button>

          <div class="control-block">
            <div class="label-row">
              <span class="label">Lens ratio</span>
              <span class="value"><span id="ratioValue">2.00</span>×</span>
            </div>
            <div class="presets" role="radiogroup" aria-label="Lens preset">
              <button class="preset" data-ratio="1.33">1.33×</button>
              <button class="preset" data-ratio="1.50">1.50×</button>
              <button class="preset" data-ratio="1.80">1.80×</button>
              <button class="preset active" data-ratio="2.00">2.00×</button>
            </div>
            <input id="ratioRange" type="range" min="1.00" max="3.00" step="0.01" value="2.00" />
          </div>

          <div class="control-block inline">
            <label class="label" for="formatSelect">Export</label>
            <select id="formatSelect" class="select">
              <option value="image/png">PNG</option>
              <option value="image/jpeg">JPEG</option>
              <option value="image/webp">WEBP</option>
            </select>
          </div>

          <button id="downloadBtn" class="btn" disabled>Download</button>
        </aside>

        <section class="panel stage" aria-label="Preview">
          <div id="dropzone" class="dropzone" tabindex="0">
            <p><strong>Drop image here</strong> or click “Choose image”</p>
            <p class="muted">Everything stays local in your browser.</p>
          </div>

          <div class="meta" id="meta" hidden></div>

          <div class="canvas-wrap">
            <canvas id="canvas" aria-label="Desqueezed preview"></canvas>
          </div>
        </section>
      </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/animejs@4.0.2/lib/anime.iife.min.js"></script>
    <script src="app.js" defer></script>
  </body>
</html>
